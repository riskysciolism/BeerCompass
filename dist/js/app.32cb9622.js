(function(e){function t(t){for(var o,a,c=t[0],u=t[1],s=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,i,a){var c=Object(o["f"])("Bottle");return Object(o["e"])(),Object(o["b"])(c,{position:e.position},null,8,["position"])}var i={class:"compass"},a=Object(o["c"])("canvas",{id:"beerCompass",height:"250px"},null,-1);function c(e,t,n,r,c,u){return Object(o["e"])(),Object(o["b"])("div",i,[a])}var u=n("d4ec"),s=n("bee2"),l=function(){function e(t,n){Object(u["a"])(this,e),this.latitude=t,this.longitude=n}return Object(s["a"])(e,[{key:"calculateDistance",value:function(t){var n=6371,o=e.degreesToRadians(t.latitude-this.latitude),r=e.degreesToRadians(t.longitude-this.longitude),i=e.degreesToRadians(this.latitude),a=e.degreesToRadians(t.latitude),c=Math.sin(o/2)*Math.sin(o/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(i)*Math.cos(a),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Math.floor(n*u)}},{key:"toString",value:function(){return this.latitude+", "+this.longitude}},{key:"getLongitude",value:function(){return this.longitude}},{key:"getLatitude",value:function(){return this.latitude}}],[{key:"degreesToRadians",value:function(e){return e*Math.PI/180}}]),e}(),d=n("5c40"),f=n("8dfe"),h=n("e9b9"),g=function(){function e(){Object(u["a"])(this,e)}return Object(s["a"])(e,[{key:"getCurrentHeading",value:function(){var e=new f["a"]({frequency:60,referenceFrame:"screen"}),t=new h["a"]((function(t){e.addEventListener("reading",(function(){var n=e.quaternion,o=Math.atan2(2*n[0]*n[1]+2*n[2]*n[3],1-2*n[1]*n[1]-2*n[2]*n[2])*(180/Math.PI);o<0&&(o=360+o);var r=Math.round(360-o);t.next(r)}))}));return e.start(),t}},{key:"getLocation",value:function(){return new h["a"]((function(e){navigator.geolocation.watchPosition((function(t){e.next(new l(t.coords.latitude,t.coords.longitude))}))}))}}]),e}(),p=n("7738"),v=function(){function e(){Object(u["a"])(this,e),this.positionService=new g}return Object(s["a"])(e,[{key:"getHeadingToTarget",value:function(t){var n=this.positionService.getCurrentHeading(),o=this.positionService.getLocation(),r=Object(p["a"])([n,o]);return new h["a"]((function(n){r.subscribe((function(o){var r=e.getAngleFromPositions(o[1],t),i=r-o[0];i<0&&(i=360+i),n.next(i)}))}))}}],[{key:"getAngleFromPositions",value:function(e,t){var n=this.calculateVector(e,t),o=Math.atan2(n[1],n[0]),r=180*o/Math.PI;return r<0&&(r=360+r),Math.round(r)}},{key:"calculateVector",value:function(e,t){return[t.getLatitude()-e.getLatitude(),t.getLongitude()-e.getLongitude()]}}]),e}(),b=Object(d["h"])({name:"Bottle",props:{position:{type:l,required:!0}},setup:function(e){var t=new v,n=t.getHeadingToTarget(e.position);function o(){var e=document.getElementById("beerCompass"),t=e.getContext("2d"),o=new Image;o.onload=function(){var r=o,i=r.height,a=r.width;n.subscribe({next:function(n){t.save(),t.clearRect(0,0,e.width,e.height),t.translate(e.width/2,e.height/2),t.rotate(n*Math.PI/180),t.translate(-e.width/2,-e.height/2),t.drawImage(o,e.width/2-a/2,e.height/2-i/2,a,i),t.restore()}})},o.src="https://www.thecarycompany.com/media/catalog/product/3/0/30wlac_1.jpg",o.height=300,o.width=300}Object(d["n"])((function(){o()}))}});b.render=c;var w=b,y=Object(o["d"])({name:"App",components:{Bottle:w},setup:function(){var e=new l(49.483877,8.47194);return{position:e}}});y.render=r;var j=y,O=n("9483");Object(O["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(o["a"])(j).mount("#app")}});
//# sourceMappingURL=app.32cb9622.js.map